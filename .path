pathmunge () {
    local dir="$1"
    local pos=${2:-}
    case ":${PATH}:" in
        *:"$dir":*)
            ;;
        *)
            if [ "$pos" = "after" ] ; then
                PATH="$PATH:$dir"
            else
                PATH="$dir:$PATH"
            fi
    esac
}

# Add homebrew sbin/bin to the path
if command -v brew &>/dev/null ; then
  HOMEBREW_PREFIX="$(brew --prefix)"
  pathmunge $HOMEBREW_PREFIX/sbin
  pathmunge $HOMEBREW_PREFIX/bin
fi

# Add go bin to the path
pathmunge "$GOPATH/bin"

# Add `~/bin` to the `$PATH`
pathmunge "$HOME/bin"

# add default pipx binary location to path
pathmunge "$HOME/.local/bin"

# add Homebrew sbin location
# pathmunge "/usr/local/sbin"

# Add nodenv to the path
# pathmunge "$HOME/.nodenv/bin"

#Â add php composer bin to path
# pathmunge "$HOME/.composer/vendor/bin"

if [[ -d /opt/homebrew/opt/postgresql@${PG_VERSION:-}/bin ]] ; then
  pathmunge /opt/homebrew/opt/postgresql@$PG_VERSION/bin
fi

if [[ -d "$HOME/.cargo/bin" ]] ; then
  pathmunge "$HOME/.cargo/bin"
fi

# load any local path changes
[ -r .path.local ] && . .path.local

unset pathmunge
